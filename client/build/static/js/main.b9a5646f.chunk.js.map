{"version":3,"sources":["modules/Chat/index.js","music/index.js","components/Modal/index.js","components/BlurContainer/index.js","components/LoginForm/index.js","actions/index.js","constants/index.js","components/Message/index.js","components/ChatInput/index.js","modules/Statistics/index.js","modules/ClassSelector/index.js","modules/GameBar/index.js","containers/LoginModal/index.js","engine/index.js","Game.js","reducers/index.js","index.js"],"names":["Message","_ref","message","react_default","a","createElement","reactstrap_es","className","width","height","src","url","concat","name","text","_Component","Chat","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","value","handle","event","keyCode","setState","target","inherits","createClass","key","_this2","props","messages","map","id","Chat_Message","objectSpread","onKeyDown","onChange","handleOnChange","Component","defaultProps","click1","Howl","autoplay","volume","click2","Modal","handler","history","push","to","close","keyClose","closeKey","children","appear","onClick","RoutedModal","withRouter","BlurContainer","style","is","kernel","filter","ConnectedComponent","connect","dispatch","selectName","type","payload","placeholder","position","placement","MessageContainer","nextProps","clearTimeout","setTimeout","react","MessageN","_this$props","Message_MessageContainer","components_Message_Message","PureComponent","socket","postMessage","sendMessage","emit","MiddleIcon","Link","StatisticsItem","_ref2","score","Statistics_MiddleIcon","Message_MessageN","Statistics","_ref3","color","list","el","Statistics_StatisticsItem","race","HeroCard","Selected","selected","raceName","selectRace","choice","configs","description","urls","descriptions","ClassSelector_HeroCard","BigIcon","fluid","GameBar_BigIcon","ChatInput_ConnectedComponent","isLogin","login","objectWithoutProperties","ClassSelector_ConnectedComponent","initConfig","alive","x","rules","Engine","canvas","cellSizeX","Math","floor","cellSizeY","shadowSize","min","_ctx","getContext","count","_currentLaw","loot","_power","onMouseCb","addConfig","config","setConfig","_configs$name","drawing","_cords","cords","y","addEventListener","_getCords","getCords","l","abs","intersection","removeEventListener","world","pageX","offsetLeft","pageY","offsetTop","draw","i","j","image","drawImage","draw1","shadow","beginPath","fillStyle","r","g","b","arc","PI","fill","use","getStatistics","setLoot","img","size","getPower","initPower","val","onMouse","cb","paint","clearRect","set","wrld","iconUrls","iconObj","blue","red","green","images","Image","forEach","Game","statistics","init","resize","engine","_canvas","current","change","sendMousePosition","parent","parentElement","clientWidth","clientHeight","Login","sendLoginInfo","createRef","io","initSocket","window","Route","exact","path","render","LoginModal_ConnectedComponent","components_BlurContainer_BlurContainer","ref","Statistics_Statistics","stats","GameBar_ConnectedComponent","on","players","newPlayers","showMessage","addSocket","showStatistics","initState","ReduxDevtoolsExtension","__REDUX_DEVTOOLS_EXTENSION__","noop","store","createStore","undefined","action","population","_action$payload","compose","applyMiddleware","thunk","es","BrowserRouter","src_Game_0","document","getElementById"],"mappings":"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","file":"static/js/main.b9a5646f.chunk.js","sourcesContent":["import React, {Fragment, Component} from 'react'\nimport './Chat.css'\nimport { Container, Input, Button } from 'reactstrap'\n\n\nconst Message = ({message}) => {\n\treturn(\n\t<Container className='d-flex'>\n\t\t<Container className='icon'>\n\t\t\t<img width='30px' height='30px' src={message.url}/>\n\t\t\t<p> {`${message.name}`} </p>\t\n\t\t</Container>\n\t\t<Container className='message'>\n\t\t\t<p> {`${message.text}`} </p>\n\t\t</Container>\n\t</Container>\n\t)\n}\n\nexport class Chat extends Component {\n\tstate = {\n\t\tvalue: '' \n\t}\n\thandle = event => {\n\t\tif (event.keyCode == 13){\n\t\t\tthis.setState({\n\t\t\t\tvalue:event.target.value\n\t\t\t})\n\t\t\tevent.target.value = ''\n\t\t}\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t\t<Container className='chat w-100'>\n\t\t\t\t\t<Container className='textarea'>\n\t\t\t\t\t\t{this.props.messages.map((message, id) =>  <Message key={id} message={{...message, text:this.state.value}}/>)}\n\t\t\t\t\t</Container>\n\t\t\t\t\t<Container className='input'>\n\t\t\t\t\t\t<Input onKeyDown={this.handle} onChange={this.handleOnChange}/>\n\t\t\t\t\t</Container>\n\t\t\t\t</Container>\n\t\t\t)\n\t\t}\n}\n\nChat.defaultProps = {\n\tmessages: []\n}\n\n","import { Howl } from 'howler'\n\nexport const click1 = () => {\n  const sounds = [\n    'music/1.mp3',\n  //  'music/2.mp3',\n  ]\n  const sound = new Howl({\n    src:sounds,\n    autoplay: true,\n    volume: 0.9,\n  });\n}\n\nexport const click2 = () => {\n  const sounds = [\n    'music/2.mp3',\n  //  'music/2.mp3',\n  ]\n  const sound = new Howl({\n    src:sounds,\n    autoplay: true,\n    volume: 0.9,\n  });\n}\n\n","import React, {Component}  from 'react'\nimport './Modal.css'\nimport {\n\tContainer\n} from 'reactstrap'\nimport {\n\tclick2\n} from '../../music'\nimport { Link, withRouter } from 'react-router-dom'\n\nclass Modal extends Component {\n\thandler = () => {\t\n\t\tclick2()\n\t\tthis.props.history.push(this.props.to)\n\t\tthis.props.close()\n\t}\n\tkeyClose = event => {\n\t\tif (event.keyCode == this.props.closeKey){\n\t\t\tthis.handler()\n\t\t}\n\t}\n\trender(){\n\t\tconst { children } = this.props\n\t\treturn (  \n\t\t\tthis.props.appear &&\n\t\t\t<div onKeyDown={this.keyClose} className='modal-layer'>\n\t\t\t\t<Container className='inner-modal-layer'>\n\t\t\t\t\t\t<p className='modal-cross' onClick={this.handler}>\n\t\t\t\t\t \t\tX \n\t\t\t\t\t\t</p>\n\t\t\t\t\t{ children }\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t\t)\n\t}\n}\n\nconst RoutedModal = withRouter(Modal)\n\nexport {\n\tRoutedModal as Modal\n}\n\n","import React from 'react'\nimport './BlurContainer.css'\nconst blur = (kernel) => {\n\treturn {\n\t\tfilter:`blur(${kernel}px)`\n\t}\n}\n\nexport const BlurContainer = props => \n\t<div className='blur-container' style={ props.is ? blur(props.kernel) : {}}>\n\t\t{props.children}\n\t</div>\n\nBlurContainer.defaultProps = {\n\tkernel: 3\n}","import React, { Fragment, Component } from 'react'\nimport { Input, Container } from 'reactstrap'\nimport './LoginForm.css'\nimport { connect } from 'react-redux'\nimport { selectName } from '../../actions'\n\nconst LoginForm  = ({selectName}) => {\n\tconst handle = event => {\n\t\tif (event.keyCode == 13){\n\t\t\tselectName(event.target.value)\n\t\t\tevent.target.value = ''\n\t\t}\n\t}\n\treturn (\n\t\t\t<Container>\n\t\t\t\t<p className='text-center'> Бактериальное прозвище: </p>\n\t\t\t\t<Input  onKeyDown={handle} placeholder=\"Имя\"/>\n\t\t\t</Container>\n\t\t)\n\t}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tselectName: (name) => dispatch(selectName(name)) \n\t}\n}\n\nconst ConnectedComponent = connect(null, mapDispatchToProps)(LoginForm)\n\nexport{\n\tConnectedComponent as LoginForm\n}\n","import {\n\tSELECT_NAME,\n\tSELECT_RACE,\n\tSET_POPULATION_SIZE,\n\tPOST_MESSAGE,\n\tNEW_PLAYERS,\n\tADD_SOCKET,\n\tLOGIN,\n\tSHOW_STATISTICS\n} from '../constants'\n\nexport const selectRace = (name) => {\n\treturn {\n\t\ttype:SELECT_RACE,\n\t\tpayload: name\n\t}\n}\n\nexport const login = () => {\n\treturn {\n\t\ttype:LOGIN,\n\t}\n}\n\n\n\nexport const sendMessage = (socket, message) => {\n\treturn dispatch => {\n\t\tsocket.emit('send-message', message)\n\t}\n}\n\n\nexport const postMessage = (message) => {\n\t\treturn {\n\t\t\ttype:POST_MESSAGE,\n\t\t\tpayload: message\n\t\t}\n}\n\n\nexport const selectName = (name) => {\n\treturn {\n\t\ttype:SELECT_NAME,\n\t\tpayload: name\n\t}\n}\n\n\n\nconst newPlayers = players => {\n\treturn {\n\t\ttype: NEW_PLAYERS,\n\t\tpayload: players\n\t}\n} \n\nconst showMessage = (config) => {\n\treturn {\n\t\ttype:'SHOW_MESSAGE',\n\t\tpayload: config\n\t}\n}\n\nconst addSocket = socket => {\n\t\treturn {\n\t\t\ttype: ADD_SOCKET,\n\t\t\tpayload: socket\n\t\t}\n}\n\nconst showStatistics = statistics => {\n\treturn {\n\t\ttype: SHOW_STATISTICS,\n\t\tpayload: statistics\n\t}\n}\n\nexport const initSocket = (socket, engine) => {\n\t\treturn dispatch => {\n\t\t\tsocket.on('new-players', players => {\n\t\t\t\t\tdispatch(newPlayers(players))\n\t\t\t})\n\t\t\tsocket.on('response-message', config => {\n\t\t\t\t\tdispatch(showMessage(config))\n\t\t\t})\n\t\t\tdispatch(addSocket(socket))\n\t\t\t\n\t\t\tsocket.on('render', world => {\n\t\t\t\tengine.set(world)\n\t\t\t\tengine.paint()\n\t\t\t})\n\t\t\tsocket.on('statistics', statistics => {\n\t\t\t\tdispatch(showStatistics(statistics))\n\t\t\t})\n\t\t}\n}\n\n\n//client-server async action\n\nexport const sendLoginInfo = (socket, config) => {\n\treturn dispatch => {\n\t\t\tsocket.emit('send-login-info', config)\n\t}\n}\n\nexport const sendMousePosition = (socket, x, y) => {\n\treturn dispatch => {\n\t\tconst config = {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t}\n\t\tsocket.emit('send-mouse-position', config)\n\t}\n}\n\n//server-client async action\n\n\n\n\n \n\n","export const SELECT_NAME = 'SELECT_NAME'\nexport const SELECT_RACE = 'SELECT_RACE'\nexport const SET_POPULATION_SIZE = 'SET_POPULATION_SIZE'\nexport const POST_MESSAGE = 'POST_MESSAGE'\nexport const NEW_PLAYERS = 'NEW_PLAYERS'\nexport const ADD_SOCKET = 'ADD_SOCKET'\nexport const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\nexport const SHOW_STATISTICS = 'SHOW_STATISTICS'","import React, {Fragment, Component, PureComponent} from 'react'\nimport './Message.css'\nimport {\n\tContainer\n} from 'reactstrap'\n\n\nconst stl = (position) =>  {\n\tconst cls = (position === 'bottom') ? 'my_message-bottom': 'my_message-top'\n\treturn cls\n}\n\nconst Message = ({text, placement}) => {\n\treturn(\n\t\t<div className={`my_message ${stl(placement)}`} >\n\t\t\t<p className='discription-text'>{text}</p>\n\t\t</div>\n\t)\n}\n\n\nclass MessageContainer extends Component{\n\tstate = {\n\t\tis:false\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\tif (nextProps.children !== this.props.children){\n\t\t\tthis.setState({is: true})\n\t\t}\n\t}\n\tcomponentDidUpdate(props, state){\n\t\t\tif (this.state.is){\n\t\t\t\tclearTimeout(this.id) \n\t\t\t\tthis.id = setTimeout(this.close, 2000)\n\t\t\t}\n\t}\n\n\tclose = () => this.setState({is: false})\n\n\trender(){\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{this.state.is && this.props.children}\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nclass MessageN extends PureComponent { \n\trender(){\n\t\tconst {text, placement} = this.props\n\t\treturn(\n\t\t\t<MessageContainer>\n\t\t\t\t<Message text={text} placement={placement}/>\n\t\t\t</MessageContainer>\n\t\t)\n\t}\n}\n\n\nexport {\n\tMessageN as Message\n}","import React from 'react'\nimport './ChatInput.css'\nimport { connect } from 'react-redux'\nimport { postMessage, sendMessage } from '../../actions'\nimport {\n\tInput\n} from 'reactstrap'\n\nconst ChatInput = ({postMessage, socket, sendMessage}) => {\n\tconst handle = event => {\n\t\tif (event.keyCode == 13){\n\t\t\tpostMessage(event.target.value)\n\t\t\tsendMessage(socket, event.target.value)\n\t\t\tevent.target.value = ''\n\t\t}\n\t}\n\treturn (\n\t\t<Input className='w-50' placeholder='ЧАТ' onKeyDown={handle}/>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tsocket: state.socket\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tpostMessage: message => dispatch(postMessage(message)),\n\t\tsendMessage: (socket, message) => dispatch(sendMessage(socket, message))\n\t}\n}\n\nconst ConnectedComponent = connect(mapStateToProps, mapDispatchToProps)(ChatInput)\n\nexport {\n\tConnectedComponent as ChatInput\n}","import React, {Fragment} from 'react'\nimport './Statistics.css'\nimport { Container } from 'reactstrap'\nimport { GameBar } from '../'\nimport { Message } from '../../components'\nimport { connect } from 'react-redux'\nimport { click1 } from '../../music'\nimport { Link } from 'react-router-dom'\n\nconst MiddleIcon = ({url, to}) => {\n\treturn (\n\t\t<Link to={to}>\n\t\t\t<img width='50px' height='50px' src={url}/>\n\t\t</Link>\n\t)\n}\n\nconst StatisticsItem = ({score, url, message}) => {\n\treturn (\n\t\t\t<Container onClick={click1} className='statistic-item'>\n\t\t\t\t<MiddleIcon url={url} to='/'/>\n\t\t\t\t<p> {score} </p>\n\t\t\t\t<Message placement='bottom' text={message} />\n\t\t\t</Container>\n\t)\n}\n\n\nconst StatisticsUnconnect = ({value, color,list, messages}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<ul className='statistics statistics-list'>\n\t\t\t\t{list.map((el, id) => <li key={id}> <StatisticsItem  message={messages[el.race]} score={el.score} url={el.url}/> </li>)}\t\t\t\n\t\t\t</ul>\n\t\t</Fragment>\n\t\t)\n}\n\n//\t\t\t<div className='game-bar' style={{height:value, background:color}}/> \n\nconst mapStateToProps = state => {\n\treturn {\n\t\tmessages: state.messages,\n\t}\n}\n\nconst Statistics = connect(mapStateToProps)(StatisticsUnconnect)\n\nexport {\n\tStatistics\n}\n","import React, { Fragment, Component } from 'react'\nimport {Container, Input, Label } from 'reactstrap'\nimport './ClassSelector.css'\nimport { connect } from 'react-redux'\nimport {\n\tselectRace\n} from '../../actions'\nimport {\n\tclick1\n} from '../../music'\n\n\nconst HeroCard = ({ url, onClick, selected}) => {\n\tconst Selected = selected ? 'heroes_selected': 'heroes'\n\treturn(\n\t\t\t<i onClick={onClick} className={Selected}>\n\t\t\t\t<img width='100px' height='100px' src={url}/>\n\t\t\t</i>\n\t)\n}\n\nconst raceName = ['blue','red', 'green']\n\n//здесь имена надо сделать\nconst  ClassSelector =  (props) => {\n\tconst choice = (id) => () => {\n\t\tclick1()\n\t\tprops.selectRace(raceName[id])\n\t}\n\t\tconst { configs, description } = props\n\t\tconst { urls, descriptions } = configs\n\t\treturn (\n\t\t\t<Container className='class-selector'>\n\t\t\t\t<Container className='class-selector__classes'>\n\t\t\t\t\t{ urls.map((url, id) => <HeroCard onClick={choice(id)} selected={raceName[id] === props.race} key={id} url={url}/>)}\n\t\t\t\t</Container>\n\t\t\t\t{ description &&\n\t\t\t\t\t<Container className='class-selector__description'>\n\t\t\t\t\t\t<p className='discription-text'>{descriptions[props.race]}</p>\n\t\t\t\t\t</Container>\n\t\t\t\t}\n\t\t\t</Container>\n\t\t)\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trace: state.race\n\t}\n}\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\t\tselectRace: (name) =>  dispatch(selectRace(name))\n\t}\n}\n\nconst ConnectedComponent = connect(mapStateToProps, mapDispatchToProps)(ClassSelector)\n\nexport {\n\tConnectedComponent as ClassSelector\n}","import React, { Fragment } from 'react'\nimport './GameBar.css'\nimport { Input, Container, Button } from 'reactstrap'\nimport { connect } from 'react-redux'\nimport {\n\tMessage, ChatInput\n} from '../../components'\nimport { click1 } from '../../music'\nimport { Link } from 'react-router-dom'\n\nconst BigIcon = ({onClick, url, to}) => {\n\treturn (\n\t\t<Link to ={to}>\n\t\t\t<img width='120px' height='120px'  onClick={onClick} className='kok' src={url}/>\n\t\t</Link>\n\t)\n}\n\nconst GameBar = ({ url, text}) => {\n\treturn (\n\t\t<Container fluid className='game-bar_container'>\n\t\t\t<div className='game-bar-hero'>\n\t\t\t\t<BigIcon onClick={click1} url={url} to='/'/>\n \t\t\t\t<Message  placement='top' text={text}/>\n \t\t\t</div>\n\t\t\t<ChatInput/>\n\t\t</Container>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\ttext: state.message\n\t}\n}\n\nconst ConnectedComponent = connect(mapStateToProps)(GameBar)\n\nexport {\n\tConnectedComponent as GameBar\n}\n\n","import React, {Fragment} from 'react'\nimport { connect } from 'react-redux'\nimport {\n  ClassSelector\n} from '../../modules'\nimport { \n  Modal,\n  LoginForm,\n} from '../../components'\nimport {\n  sendPlayerInfo\n} from '../../actions'\n\n\nconst InitModal = ({isLogin, login, configs, ...props}) => {\n  return (\n\t\t <Modal appear={true}  close={login} to='/game' closeKey={13}>\n          {!isLogin && <Fragment> \n                    <hr/>\n                        <LoginForm/>\n                    <hr/>\n                  </Fragment>} \n          <p className='text-center'>Раса: {props.race} </p>\n          <hr/>\n          <ClassSelector description configs={configs}/>\n          <hr/>\n      </Modal>\n\t)\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\trace: state.race\n\t}\n}\n\n\nconst ConnectedComponent = connect(mapStateToProps)(InitModal)\n\nexport {\n\tConnectedComponent as InitModal\n}\n\n\n\n","\nconst initConfig = {\n\t// может стоит делать его муртвым чтобы меньше рендерить?\n\talive: x => x >= 1,\n\trules: x => 0,\n\tname: 'init'\n}\n\nconst argmax = array => {\n\treturn array.length ? array.map((x, i) => [x, i]).reduce((r, a) => (a[0] > r[0] ? a : r))[1]: -1\n}\n\n\nconst Engine = (canvas) => {\n\tconst cellSizeX = Math.floor(canvas.width / 80)\n\tconst cellSizeY = Math.floor(canvas.height / 60)\n\tconst shadowSize = Math.min(cellSizeY, cellSizeX) * 1.7;\n\tconst w = 80\n\tconst h = 60\n\tconst _ctx = canvas.getContext('2d')\n\tconst configs = []\n\tlet _alive;\n\tlet _rules;\n\tlet count = 0\n\tlet _currentLaw = 'init'\n\tlet statistics = {}\n\tlet loot = []\n\tlet lootImg = ''\n\tlet _power = 0\n\tlet onMouseCb = (x) => x \n\tlet onEnemyMouse = (x) => x\n\n\tconst setLoot = ({img, size}) => {\n\t\tlootImg = img\n\t}\n\tconst addConfig = (config) => {\n\t\tconfigs[config.name] = { ...config, id: count++, count:0 }\n\t}\n\tconst setConfig = (name) => {\n\t\tconst { alive, rules} = configs[name]\n\t\t_alive = alive;\n\t\t_rules = rules\n\t\t_currentLaw = name\n\t}\n\n\taddConfig(initConfig)\n\tsetConfig(_currentLaw)\n\n\t//server\n\tconst lootSpawn = (time = 1000) => {\n\t\tconst spawn = () => {\n\t\t\tconst x = Math.random() * w * cellSizeX\n\t\t\tconst y = Math.random() * h * cellSizeY\n\t\t\t\tloot.push({x:x, y:y})\n\t\t\t\tlootSpawn(time)\n\t\t}\n\t\tsetTimeout(spawn, Math.random() * time)\n\t}\n\n\tconst drawLoot = () => {\n\t\tloot.forEach(({x,y}) => {  \n\t\t\t\t_ctx.drawImage(lootImg, x - 150, y - 80)\n\t\t})\n\t}\n\n\t//server\n\tconst intersection = (x, y) => {\n\t\tconst epsil = 50;\n\t\tloot = loot.filter(l => {\n\t\t\tconst cond = (Math.abs(l.x - x) + Math.abs(l.y - y)) > epsil\n\t\t\t//if (!cond) incPower()\n\t\t\treturn cond\n\t\t})\n\t}\n\tconst drawing = () => {\n\t\t\tconst {x ,y} = cords;\n\t\t\tonMouseCb(x, y)\n\t}\n\n\tconst init = () => {\n\t\t// удалить интервал\n\t\tcanvas.addEventListener('mousemove',(event) =>{\n\t\t\tconst {x, y} = getCords(event)\n\t\t\tcords = {x: Math.floor(x / cellSizeX), y: Math.floor(y / cellSizeY)}\n\t\t\tintersection(x, y)\n\t\t});\n\t\tcanvas.addEventListener('mousedown',(event) =>{\n\t\t\tdrawing()\n\t\t\tcanvas.addEventListener('mousemove', drawing);\n\t\t});\n\t\tcanvas.addEventListener('mouseup', () => {\n\t\t\tcanvas.removeEventListener('mousemove',drawing);\n\t\t});\n\t}\n\tinit()\n\n\tlet world = []\n\tlet cords = {}\n\t\n\tconst getCords = event => {\n\t\treturn {\n\t\t\tx:event.pageX - canvas.offsetLeft,\n\t\t\ty:event.pageY - canvas.offsetTop\n\t\t}\n\t}\n\tconst use = name => {\n\t\tsetConfig(name)\n\t}\n\n\tconst draw = (i, j) => {\n\t\tconst cell = world[i + j * w]\n\t\tconst id = cell.race\n\t\tconst image = configs[id].image\n\t\tif (image) _ctx.drawImage(image, i * cellSizeX, j * cellSizeY)\t\n\t}\n\tconst draw1 = (i, j) => {\n\t\tconst cell = world[i + j * w]\n\t\tconst id = cell.race\n\t\tconst shadow = configs[id].shadow\n\t\tif (shadow){\n\t\t\t_ctx.beginPath()\n\t\t\t_ctx.fillStyle = `rgba(${shadow.r},${shadow.g},${shadow.b},0.13)`\n\t\t\t_ctx.arc((i + 0.8)*cellSizeX, (j + 0.8)*cellSizeY, shadowSize, 0, 2*Math.PI)\n\t\t\t_ctx.fill()\n\t\t}\t\n\t}\n\n\tconst paint = () => {\n\t\t_ctx.clearRect(0, 0, canvas.width, canvas.height)\n\t\tfor (let i = 0; i < w; ++i){\n\t\t\tfor (let j = 0; j < h; ++j){\n\t\t\t\tworld[i + j*w].alive ? draw(i,j) : draw1(i,j)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst set = (wrld) => {\n\t\tworld = wrld\n\t}\n\tconst getStatistics = (name) => configs[name][count]\n\tconst getPower = () => _power\n\tconst initPower = (val) => _power = val \n\tconst onMouse = (cb) =>  onMouseCb = cb\n\treturn {\n\t\taddConfig,\n\t\tuse,\n\t\tgetStatistics,\n\t\tsetLoot,\n\t\tgetPower,\n\t\tinitPower,\n\t\tonMouse,\n\t\tpaint,\n\t\tset\n\t}\n}\n\n\n\n\nexport default Engine\n\n","import React, { createRef, Component, Fragment } from 'react';\nimport { connect } from 'react-redux'\nimport { Button, Container } from 'reactstrap'\nimport io from 'socket.io-client'\nimport { Route, withRouter } from 'react-router-dom'\nimport {Howl, Howler} from 'howler'\nimport './Game.css'\nimport {\n  Chat,\n  Statistics,\n  GameBar\n} from './modules'\nimport { \n  BlurContainer,\n} from './components'\n\nimport {\n  InitModal\n} from './containers'\n\nimport { \n  initSocket,\n  sendLoginInfo,\n  login,\n  sendMousePosition\n} from './actions'\n\nimport Engine from './engine'\n\n\nconst playSounds = () => {\n  const sounds = [\n    'music/Polyphia G.O.A.T. (Official Music Video).mp3',\n    'music/Polyphia – O.D..mp3',\n    'music/Polyphia - Crush.mp3'\n  ]\n  const sound = new Howl({\n    src:sounds,\n    autoplay: true,\n    volume: 0.9,\n  });\n}\n\n//playSounds()\n\n\nconst iconUrls = ['./icon1.png','./icon2.png','./icon3.png']\nconst iconObj = {blue:'./icon1.png',red:'./icon2.png',green:'./icon3.png'}\nconst shadow = {'blue':{r:100,g:100,b:255},'red':{r:255,g:100,b:100},'green':{r:5,g:100,b:5}}\nconst urls = ['./hero1.png', './hero.png', './hero2.png', './waterbear.png']\nconst images = urls.map( url => new Image())\nimages.forEach((img, id) => img.src = urls[id])\n\nconst rules = [{name:'blue',image: images[0],shadow:shadow['blue']}, {name:'red', image:images[1],shadow:shadow['red']}, {name:'green', image:images[2],shadow:shadow['green']}]\n\nconst configs = {\n  urls: iconUrls,\n  descriptions: {blue:'супер быстрые',red:'супер сильные',green:\"супер плодовитые\"}\n}\n\n\nclass Game extends Component {\nstate = {\n  statistics: [],\n}\nconstructor(props){\n   super(props)\n   this._canvas = createRef()\n   this.engine = null\n}\ncomponentDidMount(){\n  this.init()\n  this.socket = io()\n  this.props.initSocket(this.socket, this.engine)\n  window.addEventListener('resize', this.init)\n}\ninit = () => {\n  this.resize()\n  this.engine = Engine(this._canvas.current)\n  rules.forEach(this.engine.addConfig)\n  this.change()\n  this.engine.onMouse((x,y) => this.props.sendMousePosition(this.socket, x, y))\n}\n\nresize = () => {\n  const parent = this._canvas.current.parentElement;\n  this._canvas.current.width = parent.clientWidth\n  this._canvas.current.height = parent.clientHeight\n}\n\nlogin = () => {\n  this.change()\n  this.props.Login()\n  this.props.sendLoginInfo(this.socket, this.props.config)\n}\n\nchange = () => {\n  this.engine.use(this.props.race)\n}\n\n  render(){\n    const { statistics } = this.state\n    const  color = shadow[this.props.race]\n    return (\n      <Fragment>\n        <Route exact path='/' render={ () => {\n            return <InitModal isLogin = {this.props.isLogin} login = {this.login} configs = {configs} />\n        }}/>\n        <BlurContainer  kernel={14} is={!this.props.isLogin}>\n          <div  className='h-100 w-100 background tools'>\n            <canvas  ref={this._canvas}/>\n            <Statistics color={`rgb(${color.r},${color.g},${color.b}`}  value={100}  list={this.props.stats}/>\n            <Container className='d-flex'>\n              <GameBar  url={iconObj[this.props.race]} />\n            </Container>\n          </div>\n        </BlurContainer>\n      </Fragment>\n    )\n  }\n}\n\n\n/*\n*/\n//Вернуть и очень много работы с engine\n\n\n//  <Statistics color={`rgb(${color.r},${color.g},${color.b}`}  value={statistics[this.props.race]} list={statistics} urls = {iconUrls}/>\n// <Button  color='danger' onClick={this.toggle()}> on </Button>\n\nconst mapStateToProps = state => {\n  return {\n    isLogin: state.isLogin,\n    race: state.race,\n    config: {\n      race: state.race,\n      name: state.name\n    },\n    stats:[\n      {race:'blue', url: iconUrls[0], score: state.statistics[0]},\n      {race:'red', url: iconUrls[1], score: state.statistics[1]},\n      {race:'green', url: iconUrls[2], score: state.statistics[2]}\n    ]\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    initSocket: (socket, engine) => dispatch(initSocket(socket, engine)),\n    Login: () => dispatch(login()),\n    sendMousePosition: (socket, x, y) => dispatch(sendMousePosition(socket, x, y)),\n    sendLoginInfo: (socket, config) => dispatch(sendLoginInfo(socket, config)),\n  }\n}\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Game))\n\n","import {\n\tSELECT_RACE,\n\tSELECT_NAME,\n\tSET_POPULATION_SIZE,\n\tPOST_MESSAGE,\n\tNEW_PLAYERS,\n\tADD_SOCKET,\n\tLOGIN,\n\tLOGOUT,\n\tSHOW_STATISTICS\n} from '../constants'\n\nconst initState = {\n\trace: 'red',\n\tmessages: {},\n\tmessage: \"let's start\",\n\tisLogin: false,\n\tstatistics: [0,0,0]\n}\n\nconst rootReducer = (state = initState, action) => {\n\tswitch(action.type){\n\t\tcase SELECT_NAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tname: action.payload\n\t\t\t}\n\t\tcase SHOW_STATISTICS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatistics: action.payload\n\t\t\t}\n\t\tcase LOGIN:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tisLogin: true\n\t\t\t}\n\t\tcase LOGOUT:\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tisLogin: false\n\t\t\t}\n\t\tcase SELECT_RACE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trace: action.payload\n\t\t\t}\n\t\tcase NEW_PLAYERS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayers: action.payload\n\t\t\t}\n\t\tcase SET_POPULATION_SIZE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpopulation: action.payload\n\t\t\t}\n\t\tcase POST_MESSAGE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessage: action.payload\n\t\t\t}\n\t\tcase ADD_SOCKET:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsocket: action.payload\n\t\t\t}\n\t\t\n\t\tcase 'SHOW_MESSAGE':\n\t\t\tconst {race, message} = action.payload\n\t\t\tconst messages = { ...state.messages } \n\t\t\tmessages[race] = message\n\t\t\treturn{\n\t\t\t\t...state,\n\t\t\t\tmessages: messages\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n\nexport {\n\trootReducer\n}","import React from 'react';\nimport { render } from 'react-dom';\nimport Game from './Game';\nimport { rootReducer } from './reducers'\nimport { Provider } from 'react-redux'\nimport { compose, createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk' \nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport 'bootstrap/dist/css/bootstrap.css'\n\n\nconst ReduxDevtoolsExtension = ( window.__REDUX_DEVTOOLS_EXTENSION__ ) ? window.__REDUX_DEVTOOLS_EXTENSION__() : noop => noop\n\n\nconst store = createStore(rootReducer,\n\tcompose(\n\t\tapplyMiddleware(thunk),\n\t\tReduxDevtoolsExtension\n\t)\n)\n\nstore.dispatch({type:'INIT'})\n\nrender(\n<Provider store={store}>\n\t<Router>\n\t\t<Game />\n\t</Router>\n</Provider>, \ndocument.getElementById('root'));"],"sourceRoot":""}