{"ast":null,"code":"import { SELECT_NAME, SELECT_RACE, SET_POPULATION_SIZE, POST_MESSAGE, NEW_PLAYERS, ADD_SOCKET, LOGIN, SHOW_STATISTICS, JOKE, IRONY } from '../constants';\nexport var selectRace = function selectRace(name) {\n  return {\n    type: SELECT_RACE,\n    payload: name\n  };\n};\nexport var login = function login() {\n  return {\n    type: LOGIN\n  };\n};\nexport var irony = function irony() {\n  return {\n    type: IRONY\n  };\n};\nexport var sendMessage = function sendMessage(socket, message) {\n  return function (dispatch) {\n    socket.emit('send-message', message);\n  };\n};\nexport var joke = function joke() {\n  return {\n    type: JOKE\n  };\n};\nexport var postMessage = function postMessage(message) {\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return {\n    type: POST_MESSAGE,\n    payload: message\n  };\n};\nexport var selectName = function selectName(name) {\n  return {\n    type: SELECT_NAME,\n    payload: name\n  };\n};\n\nvar newPlayers = function newPlayers(players) {\n  return {\n    type: NEW_PLAYERS,\n    payload: players\n  };\n};\n\nvar showMessage = function showMessage(config) {\n  return {\n    type: 'SHOW_MESSAGE',\n    payload: config\n  };\n};\n\nvar addSocket = function addSocket(socket) {\n  return {\n    type: ADD_SOCKET,\n    payload: socket\n  };\n};\n\nvar showStatistics = function showStatistics(statistics) {\n  return {\n    type: SHOW_STATISTICS,\n    payload: statistics\n  };\n};\n\nexport var initSocket = function initSocket(socket, engine) {\n  return function (dispatch) {\n    socket.on('new-players', function (players) {\n      dispatch(newPlayers(players));\n    });\n    socket.on('response-message', function (config) {\n      dispatch(showMessage(config));\n    });\n    dispatch(addSocket(socket));\n    socket.on('render', function (world) {\n      engine.set(world);\n      engine.paint();\n    });\n    socket.on('statistics', function (statistics) {\n      dispatch(showStatistics(statistics));\n    });\n  };\n}; //client-server async action\n\nexport var sendLoginInfo = function sendLoginInfo(socket, config) {\n  return function (dispatch) {\n    socket.emit('send-login-info', config);\n  };\n};\nexport var sendMousePosition = function sendMousePosition(socket, x, y) {\n  return function (dispatch) {\n    var config = {\n      x: x,\n      y: y\n    };\n    socket.emit('send-mouse-position', config);\n  };\n}; //server-client async action","map":{"version":3,"sources":["/home/efimenko/Рабочий стол/alive-empire-game/client/src/actions/index.js"],"names":["SELECT_NAME","SELECT_RACE","SET_POPULATION_SIZE","POST_MESSAGE","NEW_PLAYERS","ADD_SOCKET","LOGIN","SHOW_STATISTICS","JOKE","IRONY","selectRace","name","type","payload","login","irony","sendMessage","socket","message","dispatch","emit","joke","postMessage","time","selectName","newPlayers","players","showMessage","config","addSocket","showStatistics","statistics","initSocket","engine","on","world","set","paint","sendLoginInfo","sendMousePosition","x","y"],"mappings":"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","sourcesContent":["import {\n\tSELECT_NAME,\n\tSELECT_RACE,\n\tSET_POPULATION_SIZE,\n\tPOST_MESSAGE,\n\tNEW_PLAYERS,\n\tADD_SOCKET,\n\tLOGIN,\n\tSHOW_STATISTICS,\n\tJOKE,\n\tIRONY\n} from '../constants'\n\nexport const selectRace = (name) => {\n\treturn {\n\t\ttype:SELECT_RACE,\n\t\tpayload: name\n\t}\n}\n\nexport const login = () => {\n\treturn {\n\t\ttype:LOGIN,\n\t}\n}\n\nexport const irony = () => {\n\treturn {\n\t\ttype:IRONY\n\t}\n}\n\n\n\nexport const sendMessage = (socket, message) => {\n\treturn dispatch => {\n\t\tsocket.emit('send-message', message)\n\t}\n}\n\nexport const joke = () => {\n\treturn {\n\t\ttype: JOKE\n\t}\n}\n\nexport const postMessage = (message, time = 2) => {\n\t\treturn {\n\t\t\ttype:POST_MESSAGE,\n\t\t\tpayload: message\n\t\t}\n}\n\n\nexport const selectName = (name) => {\n\treturn {\n\t\ttype:SELECT_NAME,\n\t\tpayload: name\n\t}\n}\n\n\n\nconst newPlayers = players => {\n\treturn {\n\t\ttype: NEW_PLAYERS,\n\t\tpayload: players\n\t}\n} \n\nconst showMessage = (config) => {\n\treturn {\n\t\ttype:'SHOW_MESSAGE',\n\t\tpayload: config\n\t}\n}\n\nconst addSocket = socket => {\n\t\treturn {\n\t\t\ttype: ADD_SOCKET,\n\t\t\tpayload: socket\n\t\t}\n}\n\nconst showStatistics = statistics => {\n\treturn {\n\t\ttype: SHOW_STATISTICS,\n\t\tpayload: statistics\n\t}\n}\n\nexport const initSocket = (socket, engine) => {\n\t\treturn dispatch => {\n\t\t\tsocket.on('new-players', players => {\n\t\t\t\t\tdispatch(newPlayers(players))\n\t\t\t})\n\t\t\tsocket.on('response-message', config => {\n\t\t\t\t\tdispatch(showMessage(config))\n\t\t\t})\n\t\t\tdispatch(addSocket(socket))\n\t\t\t\n\t\t\tsocket.on('render', world => {\n\t\t\t\tengine.set(world)\n\t\t\t\tengine.paint()\n\t\t\t})\n\t\t\tsocket.on('statistics', statistics => {\n\t\t\t\tdispatch(showStatistics(statistics))\n\t\t\t})\n\t\t}\n}\n\n\n//client-server async action\n\nexport const sendLoginInfo = (socket, config) => {\n\treturn dispatch => {\n\t\t\tsocket.emit('send-login-info', config)\n\t}\n}\n\nexport const sendMousePosition = (socket, x, y) => {\n\treturn dispatch => {\n\t\tconst config = {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t}\n\t\tsocket.emit('send-mouse-position', config)\n\t}\n}\n\n//server-client async action\n\n\n\n\n \n\n"]},"metadata":{},"sourceType":"module"}