{"ast":null,"code":"import _classCallCheck from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/src/Game.js\";\nimport React, { createRef, Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Container } from 'reactstrap';\nimport { plus, minus } from './actions';\nimport './Game.css';\nimport Engine from './engine';\n\nvar Game =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Game, _Component);\n\n  function Game(props) {\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this, props));\n\n    _this.resize = function () {\n      var parent = _this._canvas.current.parentElement;\n      _this._canvas.current.width = parent.clientWidth;\n      _this._canvas.current.height = parent.clientHeight;\n    };\n\n    _this.toggle = function () {\n      var isOn = false;\n      var id = null;\n      return function () {\n        isOn = !isOn;\n\n        if (!isOn) {\n          id = _this.engine.render();\n        } else {\n          clearInterval(id);\n        }\n      };\n    };\n\n    _this._canvas = createRef();\n    _this.engine = null;\n    return _this;\n  }\n\n  _createClass(Game, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(1);\n      this.resize();\n      this.engine = Engine(this._canvas.current);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.toggle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \" on \"), React.createElement(\"div\", {\n        className: \"h-100 w-100 background\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        ref: this._canvas,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Game;\n}(Component);\n\nexport default Game;","map":{"version":3,"sources":["/home/efimenko/Рабочий стол/alive-empire-game/src/Game.js"],"names":["React","createRef","Component","Fragment","connect","Button","Container","plus","minus","Engine","Game","props","resize","parent","_canvas","current","parentElement","width","clientWidth","height","clientHeight","toggle","isOn","id","engine","render","clearInterval","console","log"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,YAAlC;AACA,SACEC,IADF,EAEEC,KAFF,QAGO,WAHP;AAIA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;;IAGMC,I;;;;;AACN,gBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;;AADe,UAWlBC,MAXkB,GAWT,YAAM;AACb,UAAMC,MAAM,GAAG,MAAKC,OAAL,CAAaC,OAAb,CAAqBC,aAApC;AACA,YAAKF,OAAL,CAAaC,OAAb,CAAqBE,KAArB,GAA6BJ,MAAM,CAACK,WAApC;AACA,YAAKJ,OAAL,CAAaC,OAAb,CAAqBI,MAArB,GAA8BN,MAAM,CAACO,YAArC;AACD,KAfiB;;AAAA,UAiBlBC,MAjBkB,GAiBT,YAAM;AACb,UAAIC,IAAI,GAAG,KAAX;AACA,UAAIC,EAAE,GAAG,IAAT;AACA,aAAO,YAAM;AACXD,QAAAA,IAAI,GAAG,CAACA,IAAR;;AACA,YAAI,CAACA,IAAL,EAAW;AACTC,UAAAA,EAAE,GAAG,MAAKC,MAAL,CAAYC,MAAZ,EAAL;AACD,SAFD,MAGI;AACFC,UAAAA,aAAa,CAACH,EAAD,CAAb;AACD;AACF,OARD;AASD,KA7BiB;;AAEf,UAAKT,OAAL,GAAeb,SAAS,EAAxB;AACA,UAAKuB,MAAL,GAAc,IAAd;AAHe;AAIjB;;;;wCACkB;AACjBG,MAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,WAAKhB,MAAL;AACA,WAAKY,MAAL,GAAcf,MAAM,CAAC,KAAKK,OAAL,CAAaC,OAAd,CAApB;AACD;;;6BAsBO;AACN,aACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKM,MAAL,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAM,QAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAS,QAAA,GAAG,EAAE,KAAKP,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF;AASD;;;;EA1CkBZ,S;;AA6CnB,eAAeQ,IAAf","sourcesContent":["import React, { createRef, Component, Fragment } from 'react';\nimport { connect } from 'react-redux'\nimport { Button, Container } from 'reactstrap'\nimport {\n  plus,\n  minus\n} from './actions'\nimport './Game.css'\nimport Engine from './engine'\n\n\nclass Game extends Component {\nconstructor(props){\n   super(props)\n   this._canvas = createRef()\n   this.engine = null\n}\ncomponentDidMount(){\n  console.log(1)\n  this.resize()\n  this.engine = Engine(this._canvas.current)\n}\n\nresize = () => {\n  const parent = this._canvas.current.parentElement;\n  this._canvas.current.width = parent.clientWidth\n  this._canvas.current.height = parent.clientHeight\n}\n\ntoggle = () => {\n  let isOn = false;\n  let id = null\n  return () => {\n    isOn = !isOn\n    if (!isOn) {\n      id = this.engine.render()\n    }\n    else{\n      clearInterval(id)\n    }\n  }\n}\n\nrender(){\n  return (\n    <Container>\n      <Button onClick={this.toggle()}> on </Button>\n      <div  className='h-100 w-100 background'>\n        <canvas  ref={this._canvas}>\n        </canvas>\n      </div>\n    </Container>\n  )\n}\n}\n\nexport default Game\n\n"]},"metadata":{},"sourceType":"module"}