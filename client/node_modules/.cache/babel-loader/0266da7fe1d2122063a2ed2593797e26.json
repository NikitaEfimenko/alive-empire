{"ast":null,"code":"import _classCallCheck from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/src/Game.js\";\nimport React, { createRef, Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { Button, Container } from 'reactstrap';\nimport { plus, minus } from './actions';\nimport './Game.css';\nimport { Chat, Statistics, ClassSelector } from './modules';\nimport { Modal, BlurContainer, LoginForm } from './components';\nimport Engine from './engine'; //rules for bonus \n\nvar alive1 = function alive1(x) {\n  return x >= 1;\n};\n\nvar rules1 = function rules1(prev, res, alive) {\n  if (alive(prev)) {\n    if (res == 2 || res == 3) {\n      return prev + 2;\n    } else {\n      return res - prev < 0;\n    }\n  } else {\n    return res == 3;\n  }\n};\n\nvar alive3 = function alive3(x) {\n  return x == 1;\n};\n\nvar rules3 = function rules3(prev, res, alive) {\n  if (alive(prev)) {\n    if (res == 2 || res == 3) {\n      return 1;\n    } else {\n      return 0;\n    }\n  } else {\n    return res == 3;\n  }\n};\n\nvar alive2 = function alive2(x) {\n  return x >= 1;\n};\n\nvar rules2 = function rules2(prev, res, alive) {\n  if (alive(prev)) {\n    if (res == 1 || res == 4) {\n      return prev + 1;\n    } else {\n      return res - prev < 0;\n    }\n  } else {\n    if (res == 4) {\n      return 2;\n    } else {\n      return 0;\n    }\n  }\n};\n\nvar iconUrls = ['./icon1.png', './icon2.png', './icon3.png'];\nvar shadow = [{\n  r: 255,\n  g: 100,\n  b: 100\n}, {\n  r: 100,\n  g: 100,\n  b: 255\n}, {\n  r: 5,\n  g: 100,\n  b: 5\n}];\nvar urls = ['./hero.png', './hero1.png', './hero2.png'];\nvar images = urls.map(function (url) {\n  return new Image();\n});\nimages.forEach(function (img, id) {\n  return img.src = urls[id];\n});\nvar rules = [{\n  alive: alive3,\n  rules: rules3,\n  image: images[0],\n  shadow: shadow[0]\n}, {\n  alive: alive3,\n  rules: rules3,\n  image: images[1],\n  shadow: shadow[1]\n}, {\n  alive: alive3,\n  rules: rules3,\n  image: images[2],\n  shadow: shadow[2]\n}];\n\nvar Game =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Game, _Component);\n\n  function Game(props) {\n    var _this;\n\n    _classCallCheck(this, Game);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Game).call(this, props));\n    _this.state = {\n      statistics: [],\n      isLogin: false\n    };\n\n    _this.init = function () {\n      _this.resize();\n\n      _this.engine = Engine(_this._canvas.current);\n      rules.forEach(_this.engine.addConfig);\n    };\n\n    _this.resize = function () {\n      var parent = _this._canvas.current.parentElement;\n      _this._canvas.current.width = parent.clientWidth;\n      _this._canvas.current.height = parent.clientHeight;\n    };\n\n    _this.login = function () {\n      _this.setState({\n        isLogin: true\n      });\n    };\n\n    _this.logout = function () {\n      _this.setState({\n        isLogin: false\n      });\n    };\n\n    _this.toggle = function () {\n      var isOn = false;\n      var id = null;\n      return function () {\n        isOn = !isOn;\n\n        if (isOn) {\n          id = setInterval(function () {\n            _this.engine.render();\n\n            _this.setState({\n              statistics: _this.engine.getStatistics()\n            });\n          }, 100);\n        } else {\n          clearInterval(id);\n        }\n      };\n    };\n\n    _this.change = function (num) {\n      return function () {\n        _this.engine.use(num);\n      };\n    };\n\n    _this._canvas = createRef();\n    _this.engine = null;\n    return _this;\n  }\n\n  _createClass(Game, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n      window.addEventListener('resize', this.init);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var statistics = this.state.statistics;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        appear: !this.state.isLogin,\n        close: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(LoginForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(ClassSelector, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(BlurContainer, {\n        kernel: 14,\n        is: !this.state.isLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"h-100 w-100 background tools\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"canvas\", {\n        ref: this._canvas,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Statistics, {\n        list: statistics,\n        urls: iconUrls,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(Button, {\n        color: \"danger\",\n        onClick: this.toggle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \" on \"), React.createElement(Button, {\n        color: \"success\",\n        onClick: this.change(1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \" hero1 \"), React.createElement(Button, {\n        color: \"success\",\n        onClick: this.change(2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \" hero2 \"), React.createElement(Button, {\n        color: \"success\",\n        onClick: this.change(3),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \" hero3 \"), React.createElement(Chat, {\n        messages: [{\n          url: iconUrls[1],\n          name: 'nik',\n          text: 'kk'\n        }, {\n          url: iconUrls[1],\n          name: 'nik',\n          text: 'kk'\n        }, {\n          url: iconUrls[1],\n          name: 'nik',\n          text: 'kk'\n        }, {\n          url: urls[2],\n          name: 'nik',\n          text: 'kekw'\n        }, {\n          url: urls[0],\n          name: 'nik',\n          text: 'kek'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Game;\n}(Component);\n\nexport default Game;","map":{"version":3,"sources":["/home/efimenko/Рабочий стол/alive-empire-game/src/Game.js"],"names":["React","createRef","Component","Fragment","connect","Button","Container","plus","minus","Chat","Statistics","ClassSelector","Modal","BlurContainer","LoginForm","Engine","alive1","x","rules1","prev","res","alive","alive3","rules3","alive2","rules2","iconUrls","shadow","r","g","b","urls","images","map","url","Image","forEach","img","id","src","rules","image","Game","props","state","statistics","isLogin","init","resize","engine","_canvas","current","addConfig","parent","parentElement","width","clientWidth","height","clientHeight","login","setState","logout","toggle","isOn","setInterval","render","getStatistics","clearInterval","change","num","use","window","addEventListener","name","text"],"mappings":"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","sourcesContent":["import React, { createRef, Component, Fragment } from 'react';\nimport { connect } from 'react-redux'\nimport { Button, Container } from 'reactstrap'\nimport {\n  plus,\n  minus\n} from './actions'\nimport './Game.css'\nimport {\n  Chat,\n  Statistics,\n  ClassSelector\n} from './modules'\nimport { \n  Modal,\n  BlurContainer,\n  LoginForm\n} from './components'\nimport Engine from './engine'\n\n//rules for bonus \n  const alive1 = x => x >= 1\n\n  const rules1 = (prev, res, alive) => {\n    if (alive(prev)){\n      if (res ==  2 || res == 3 ){\n        return prev + 2\n      }\n      else {\n        return (res - prev < 0)\n      }\n    }\n    else{\n        return (res == 3)\n    }\n  }\n\n  const alive3 = x => x == 1\n\n  const rules3 = (prev, res, alive) => {\n    if (alive(prev)){\n      if (res == 2 || res == 3 ){\n        return 1\n      }\n      else {\n        return 0\n      }\n    }\n    else{\n        return (res == 3)\n    }\n  }\n\n  const alive2 = x => x >= 1\n\n  const rules2 = (prev, res, alive) => {\n    if (alive(prev)){\n      if (res == 1 || res == 4 ){\n        return prev + 1\n      }\n      else {\n        return (res - prev < 0)\n      }\n    }\n    else{\n        if (res == 4){\n        return 2\n      }\n      else {\n        return 0\n      }\n    }\n  }\n\nconst iconUrls = ['./icon1.png', './icon2.png', './icon3.png']\nconst shadow = [{r:255,g:100,b:100},{r:100,g:100,b:255},{r:5,g:100,b:5}]\nconst urls = ['./hero.png', './hero1.png', './hero2.png']\nconst images = urls.map( url => new Image())\nimages.forEach((img, id) => img.src = urls[id])\n\nconst rules = [{alive:alive3, rules:rules3,image: images[0],shadow:shadow[0]}, {alive:alive3, rules:rules3, image:images[1],shadow:shadow[1]}, {alive:alive3, rules:rules3, image:images[2],shadow:shadow[2]}]\n\nclass Game extends Component {\nstate = {\n  statistics: [],\n  isLogin: false\n}\nconstructor(props){\n   super(props)\n   this._canvas = createRef()\n   this.engine = null\n}\ncomponentDidMount(){\n  this.init()\n  window.addEventListener('resize', this.init)\n}\ninit = () => {\n  this.resize()\n  this.engine = Engine(this._canvas.current)\n  rules.forEach(this.engine.addConfig)\n}\n\nresize = () => {\n  const parent = this._canvas.current.parentElement;\n  this._canvas.current.width = parent.clientWidth\n  this._canvas.current.height = parent.clientHeight\n}\n\nlogin = () => {\n  this.setState({\n    isLogin: true\n  })\n}\n\nlogout = () => {\n  this.setState({\n    isLogin: false\n  })\n}\n\ntoggle = () => {\n  let isOn = false;\n  let id = null\n  return () => {\n    isOn = !isOn\n    if (isOn) {\n      id = setInterval(()=>{\n        this.engine.render()\n        this.setState({\n          statistics:this.engine.getStatistics()\n        })\n      }, 100)\n    }\n    else{\n      clearInterval(id)\n    }\n  }\n}\n\nchange = (num) => () => {\n  this.engine.use(num)\n}\n\n\nrender(){\n  const { statistics } = this.state\n  return (\n    <Fragment>\n      <Modal appear={!this.state.isLogin} close={this.login}>\n        <LoginForm/>\n        <ClassSelector/>\n      </Modal>\n       <BlurContainer  kernel={14} is={!this.state.isLogin}>\n        <div  className='h-100 w-100 background tools'>\n          <canvas  ref={this._canvas}/>\n          <Statistics list={statistics} urls = {iconUrls}/>\n          <Button  color='danger' onClick={this.toggle()}> on </Button>\n          <Button  color='success' onClick={this.change(1)}> hero1 </Button>\n          <Button  color='success' onClick={this.change(2)}> hero2 </Button>\n          <Button  color='success' onClick={this.change(3)}> hero3 </Button>    \n          <Chat messages={[{url:iconUrls[1],name:'nik', text:'kk'},{url:iconUrls[1],name:'nik', text:'kk'},{url:iconUrls[1],name:'nik', text:'kk'},{url:urls[2], name:'nik',text:'kekw'},{url:urls[0],name:'nik', text:'kek'}]}/>\n        </div>\n      </BlurContainer>\n    </Fragment>\n  )\n}\n}\n\nexport default Game\n\n"]},"metadata":{},"sourceType":"module"}