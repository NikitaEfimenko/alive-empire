{"ast":null,"code":"import _toConsumableArray from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/efimenko/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/alive-empire-game/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar CellMashine =\n/*#__PURE__*/\nfunction () {\n  function CellMashine(w, h) {\n    _classCallCheck(this, CellMashine);\n\n    this.width = w;\n    this.height = h;\n    this.grid = Array(w).fill(0).map(function (x) {\n      return Array(h).fill(0);\n    });\n  }\n\n  _createClass(CellMashine, [{\n    key: \"epoch\",\n    value: function epoch() {\n      var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      var copy = function copy(arr) {\n        return arr.map(function (x) {\n          return _toConsumableArray(x);\n        });\n      };\n\n      var tmp = copy(this.grid);\n\n      var cords = function cords(axes) {\n        return function (c) {\n          if (c >= 0 && c < axes) return c;\n          if (c < 0) return 0;\n          if (c >= axes) return axes - 1;\n        };\n      };\n\n      var xcord = cords(this.width);\n      var ycord = cords(this.height);\n\n      var sum = function sum(i, j) {\n        return tmp[xcord(i + 1)][ycord(j - 1)] + tmp[xcord(i + 1)][ycord(j)] + tmp[xcord(i + 1)][ycord(j + 1)] + tmp[xcord(i)][ycord(j - 1)] + tmp[xcord(i)][ycord(j + 1)] + tmp[xcord(i - 1)][ycord(j - 1)] + tmp[xcord(i - 1)][ycord(j)] + tmp[xcord(i - 1)][ycord(j + 1)];\n      };\n\n      for (var i = 0; i < this.width; ++i) {\n        for (var j = 0; j < this.height; ++j) {\n          var s = sum(i, j);\n\n          if (this.grid[i][j]) {\n            this.setState(i, j, s == 2 || s == 3 ? 1 : 0);\n          } else {\n            this.setState(i, j, s == 3 ? 1 : 0);\n          }\n        }\n      }\n\n      return this.grid;\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(i, j) {\n      var state = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      this.grid[i][j] = state;\n    }\n  }]);\n\n  return CellMashine;\n}();","map":{"version":3,"sources":["/home/efimenko/Рабочий стол/alive-empire-game/src/engine/index.js"],"names":["CellMashine","w","h","width","height","grid","Array","fill","map","x","count","copy","arr","tmp","cords","axes","c","xcord","ycord","sum","i","j","s","setState","state"],"mappings":"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","sourcesContent":["\nclass CellMashine {\n\tconstructor(w, h){\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis.grid = Array(w).fill(0).map(x => Array(h).fill(0))\n\t}\n\tepoch(count = 1){\n\t\tconst copy = (arr) => arr.map(x => [...x]) \n\t\tconst tmp = copy(this.grid)\n\t\tconst cords = axes => c => {\n\t\t\tif (c >= 0 && c < axes) return c\n\t\t\tif (c < 0) return 0\n\t\t\tif (c >= axes) return axes - 1 \n\t\t}\n\t\tconst xcord = cords(this.width)\n\t\tconst ycord = cords(this.height)\n\t\tconst sum = (i, j) => {\n\t\t\treturn tmp[xcord(i + 1)][ycord(j - 1)] +\n\t\t\t\ttmp[xcord(i + 1)][ycord(j)] + \n\t\t\t\ttmp[xcord(i + 1)][ycord(j + 1)] + \n\t\t\t\ttmp[xcord(i)][ycord(j - 1)] + \n\t\t\t\ttmp[xcord(i)][ycord(j + 1)] + \n\t\t\t\ttmp[xcord(i - 1)][ycord(j - 1)] + \n\t\t\t\ttmp[xcord(i - 1)][ycord(j)] + \n\t\t\t\ttmp[xcord(i - 1)][ycord(j + 1)]\n\t\t}\n\t\t\tfor (let i = 0; i < this.width; ++i){\n\t\t\t\tfor (let j = 0; j < this.height; ++j){\n\t\t\t\t\tconst s = sum(i,j)\n\t\t\t\t\tif (this.grid[i][j]) {\n\t\t\t\t\t\tthis.setState(i,j, (s == 2 || s == 3)  ? 1 : 0) \n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.setState(i,j, (s == 3)  ? 1 : 0) \n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\t\n\t\treturn this.grid\n\t}\n\tsetState(i,j,state = 1){\n\t\tthis.grid[i][j] = state\n\t}\n}"]},"metadata":{},"sourceType":"module"}